# Демо-версія Docker

Це повна виконувана демонстраційна версія докера для системи.

Що включає

* MongoDB Community як основний сервер баз даних.
* PostgreSQL/TimescaleDB для історичних часових рядів.
* Графана для приладових панелей.
* Клієнт IEC 60870-5-104, який підключається до онлайн-демонстрації для збору даних.
* IEC 60870-5-104 Сервер прослуховує на локальному хості.
* Процесор обчислень.
* Змінити потоковий процесор даних в режимі реального часу.
* Програма веб-сервера Node/Express для інтерфейсу користувача.

Для запуску цієї демонстрації потрібен час роботи докера з доступною командою docker-compose. Git також необхідний для вилучення сховища.

Він може працювати на будь-якому Linux x64 або Windows 10 x64 (використовуйте Docker / WSL2 у Windows 10 версії 2004 для найкращої роботи на цій платформі).

Клонуйте ціле сховище на хост-комп’ютері.

git clone https://github.com/oblikonline/json-scada.git --config core.autocrlf = input

Перейдіть до папки компілятора, щоб створити двійкові файли.

cd json-scada/compile-docker
docker-compose

Зачекайте, поки процес компіляції закінчиться.

Перейдіть до папки демо-докера та запустіть систему.

cd ../demo-docker
docker-compose

Зачекайте, поки зображення будуть витягнуті, бази даних засіяні і протокол зв'язку почнеться.

Доступ до http://localhost:8080 у Chrome або Firefox.

Для доступу до Grafana використовуються облікові дані user = "admin" та password = "jsonscada".

Ця демонстраційна версія підключиться до онлайн-демонстрації за допомогою IEC60870-5-104.

Інтернет-демонстрація: http://vmi233205.contaboserver.net:8080/.

Коли демонстрація системного докера та демонстраційна версія з’єднані, обидві системи будуть показувати однакові дані та відображатимуть результати команд однаково.

MongoDB і PostgreSQL налаштовані на неаутентифікований доступ, порти сервера не експортуються на основний хост (це можна змінити у файлі _docker-compose.yaml_).

Демо-версія докера також надає порт сервера IEC60870-5-104 (127.0.0.1:2404, адреса ініціатора 1), до якого ви можете підключитися, використовуючи якийсь інструмент клієнта IEC60870-5-104.

Пропозиції безкоштовних клієнтів IEC60870-5-104

* https://github.com/riclolsen/qtester104
* http://the-vinci.com/vinci-software.
* https://www.mz-automation.de/communication-protocols/iec-60870-5-104-test-tool/
